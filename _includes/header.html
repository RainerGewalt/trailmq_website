<header class="site-header" role="banner">
    <nav class="nav-main" aria-label="Main Navigation">
        <div class="nav-inner container">
            <a href="/" class="nav-logo" aria-label="TrailMQ Home">
                <img src="{{ '/assets/images/webp/trailmq_logo_with_text_without_background.webp' | relative_url }}"
                     alt="TrailMQ"
                     width="160"
                     height="46" />
            </a>

            <ul class="nav-links" role="list">
                <li><a href="#overview">Overview</a></li>
                <li><a href="#capabilities">Features</a></li>
                <li><a href="#gmp">GMP</a></li>
                <li><a href="#tour">Platform</a></li>
                <li><a href="#quickstart">Get Started</a></li>
            </ul>

            <a href="https://hub.docker.com/r/trailforge/trailmq"
               class="nav-cta"
               target="_blank"
               rel="noopener">
                <svg class="nav-cta__icon" width="22" height="22" viewBox="0 0 24 24" fill="currentColor" aria-hidden="true">
                    <path d="M13.983 11.078h2.119a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.954-5.43h2.118a.186.186 0 00.186-.186V3.574a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.186m0 2.716h2.118a.187.187 0 00.186-.186V6.29a.186.186 0 00-.186-.185h-2.118a.185.185 0 00-.185.185v1.887c0 .102.082.185.185.186m-2.93 0h2.12a.186.186 0 00.184-.186V6.29a.185.185 0 00-.185-.185H8.1a.185.185 0 00-.185.185v1.887c0 .102.083.185.185.186m-2.964 0h2.119a.186.186 0 00.185-.186V6.29a.185.185 0 00-.185-.185H5.136a.186.186 0 00-.186.185v1.887c0 .102.084.185.186.186m5.893 2.715h2.118a.186.186 0 00.186-.185V9.006a.186.186 0 00-.186-.186h-2.118a.185.185 0 00-.185.185v1.888c0 .102.082.185.185.185m-2.93 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.185.185 0 00-.184.185v1.888c0 .102.083.185.185.185m-2.964 0h2.119a.185.185 0 00.185-.185V9.006a.185.185 0 00-.185-.186h-2.119a.185.185 0 00-.185.185v1.888c0 .102.083.185.185.185m-2.92 0h2.12a.185.185 0 00.184-.185V9.006a.185.185 0 00-.184-.186h-2.12a.186.186 0 00-.186.186v1.887c0 .102.084.185.186.185M23.763 9.89c-.065-.051-.672-.51-1.954-.51-.338.001-.676.03-1.01.087-.248-1.7-1.653-2.53-1.716-2.566l-.344-.199-.226.327c-.284.438-.49.922-.612 1.43-.23.97-.09 1.882.403 2.661-.595.332-1.55.413-1.744.42H.751a.751.751 0 00-.75.748 11.376 11.376 0 00.692 4.062c.545 1.428 1.355 2.48 2.41 3.124 1.18.723 3.1 1.137 5.275 1.137.983.003 1.963-.086 2.93-.266a12.248 12.248 0 003.823-1.389c.98-.567 1.86-1.288 2.61-2.136 1.252-1.418 1.998-2.997 2.553-4.4h.221c1.372 0 2.215-.549 2.68-1.009.309-.293.55-.65.707-1.046l.098-.288Z"/>
                </svg>
                <span>Get TrailMQ</span>
            </a>

            <button class="nav-toggle"
                    aria-label="Toggle navigation"
                    aria-expanded="false"
                    aria-controls="nav-mobile">
                <span></span>
                <span></span>
                <span></span>
            </button>
        </div>

        <!-- Mobile Menu -->
        <div id="nav-mobile" class="nav-mobile" hidden>
            <ul class="nav-mobile__links">
                <li><a href="#overview">Overview</a></li>
                <li><a href="#capabilities">Features</a></li>
                <li><a href="#gmp">GMP</a></li>
                <li><a href="#tour">Platform</a></li>
                <li><a href="#quickstart">Get Started</a></li>
            </ul>
            <a href="https://hub.docker.com/r/trailforge/trailmq"
               class="nav-mobile__cta"
               target="_blank"
               rel="noopener">
                Get TrailMQ on Docker Hub
            </a>
        </div>
    </nav>
</header>

<style>
    .site-header {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1000;
        background: rgba(15, 61, 62, 0.97);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
    }

    .nav-inner {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 2rem;
        padding-block: 0.625rem;
        min-height: 64px;
    }

    .nav-logo { flex-shrink: 0; }

    .nav-logo img {
        height: 42px;
        width: auto;
        transition: opacity 0.2s;
    }

    .nav-logo:hover img { opacity: 0.9; }

    .nav-links {
        display: flex;
        gap: 0.125rem;
        list-style: none;
        margin: 0;
        padding: 0;
    }

    .nav-links a {
        display: block;
        padding: 0.625rem 1rem;
        font-size: 0.9375rem;
        font-weight: 500;
        color: rgba(255, 255, 255, 0.8);
        border-radius: 0.5rem;
        transition: all 0.2s ease;
    }

    .nav-links a:hover {
        color: #fff;
        background: rgba(255, 255, 255, 0.1);
    }

    .nav-cta {
        display: inline-flex;
        align-items: center;
        gap: 0.625rem;
        padding: 0.625rem 1.25rem;
        font-size: 0.9375rem;
        font-weight: 600;
        color: #fff;
        background: #E85D04;
        border-radius: 0.5rem;
        transition: all 0.2s ease;
        box-shadow: 0 2px 8px rgba(232, 93, 4, 0.3);
    }

    .nav-cta:hover {
        background: #C24D03;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(232, 93, 4, 0.4);
    }

    .nav-cta__icon {
        flex-shrink: 0;
        opacity: 0.95;
    }

    .nav-toggle {
        display: none;
        flex-direction: column;
        justify-content: center;
        gap: 5px;
        width: 40px;
        height: 40px;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.15);
        border-radius: 0.5rem;
        cursor: pointer;
        padding: 8px;
    }

    .nav-toggle span {
        display: block;
        width: 100%;
        height: 2px;
        background: rgba(255, 255, 255, 0.9);
        border-radius: 2px;
        transition: all 0.25s ease;
    }

    .nav-toggle[aria-expanded="true"] span:nth-child(1) {
        transform: rotate(45deg) translate(5px, 5px);
    }
    .nav-toggle[aria-expanded="true"] span:nth-child(2) {
        opacity: 0;
    }
    .nav-toggle[aria-expanded="true"] span:nth-child(3) {
        transform: rotate(-45deg) translate(5px, -5px);
    }

    /* Mobile Menu */
    .nav-mobile {
        background: rgba(10, 39, 40, 0.98);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        padding: 1.5rem;
    }

    .nav-mobile[hidden] { display: none; }

    .nav-mobile__links {
        list-style: none;
        margin: 0 0 1.5rem;
        padding: 0;
        display: flex;
        flex-direction: column;
        gap: 0.25rem;
    }

    .nav-mobile__links a {
        display: block;
        padding: 1rem 1.25rem;
        font-size: 1.0625rem;
        font-weight: 500;
        color: rgba(255, 255, 255, 0.9);
        border-radius: 0.5rem;
        transition: background 0.2s;
    }

    .nav-mobile__links a:hover {
        background: rgba(255, 255, 255, 0.08);
    }

    .nav-mobile__cta {
        display: block;
        width: 100%;
        padding: 1rem;
        font-size: 1rem;
        font-weight: 600;
        color: #fff;
        background: #E85D04;
        border-radius: 0.5rem;
        text-align: center;
    }

    /* Responsive */
    @media (max-width: 960px) {
        .nav-links { display: none; }
        .nav-toggle { display: flex; }
    }

    @media (max-width: 480px) {
        .nav-inner {
            padding-block: 0.5rem;
            min-height: 56px;
        }
        .nav-logo img { height: 34px; }
        .nav-cta span { display: none; }
        .nav-cta { padding: 0.625rem; }
        .nav-cta__icon { width: 24px; height: 24px; }
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const toggle = document.querySelector('.nav-toggle');
        const mobile = document.getElementById('nav-mobile');

        if (toggle && mobile) {
            toggle.addEventListener('click', function() {
                const expanded = toggle.getAttribute('aria-expanded') === 'true';
                toggle.setAttribute('aria-expanded', !expanded);
                mobile.hidden = expanded;
            });

            // Close on link click
            mobile.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    toggle.setAttribute('aria-expanded', 'false');
                    mobile.hidden = true;
                });
            });
        }

        // Smooth scroll
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    e.preventDefault();
                    target.scrollIntoView({ behavior: 'smooth' });
                }
            });
        });
    });
</script>